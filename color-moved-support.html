<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>--color-moved support - delta</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="get-started.html"><strong aria-hidden="true">2.</strong> Get started</a></li><li class="chapter-item expanded "><a href="features.html"><strong aria-hidden="true">3.</strong> Features</a></li><li class="chapter-item expanded "><a href="installation.html"><strong aria-hidden="true">4.</strong> Installation</a></li><li class="chapter-item expanded "><a href="configuration.html"><strong aria-hidden="true">5.</strong> Configuration</a></li><li class="chapter-item expanded "><a href="environment-variables.html"><strong aria-hidden="true">6.</strong> Environment variables</a></li><li class="chapter-item expanded "><a href="how-delta-works.html"><strong aria-hidden="true">7.</strong> How delta works</a></li><li class="chapter-item expanded "><a href="usage.html"><strong aria-hidden="true">8.</strong> Usage</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="choosing-colors-styles.html"><strong aria-hidden="true">8.1.</strong> Choosing colors (styles)</a></li><li class="chapter-item expanded "><a href="line-numbers.html"><strong aria-hidden="true">8.2.</strong> Line numbers</a></li><li class="chapter-item expanded "><a href="side-by-side-view.html"><strong aria-hidden="true">8.3.</strong> Side-by-side view</a></li><li class="chapter-item expanded "><a href="grep.html"><strong aria-hidden="true">8.4.</strong> Grep</a></li><li class="chapter-item expanded "><a href="features-named-groups-of-settings.html"><strong aria-hidden="true">8.5.</strong> &quot;Features&quot;: named groups of settings</a></li><li class="chapter-item expanded "><a href="custom-themes.html"><strong aria-hidden="true">8.6.</strong> Custom themes</a></li><li class="chapter-item expanded "><a href="diff-highlight-and-diff-so-fancy-emulation.html"><strong aria-hidden="true">8.7.</strong> diff-highlight and diff-so-fancy emulation</a></li><li class="chapter-item expanded "><a href="color-moved-support.html" class="active"><strong aria-hidden="true">8.8.</strong> --color-moved support</a></li><li class="chapter-item expanded "><a href="navigation-keybindings-for-large-diffs.html"><strong aria-hidden="true">8.9.</strong> Navigation keybindings for large diffs</a></li><li class="chapter-item expanded "><a href="merge-conflicts.html"><strong aria-hidden="true">8.10.</strong> Merge conflicts</a></li><li class="chapter-item expanded "><a href="git-blame.html"><strong aria-hidden="true">8.11.</strong> Git blame</a></li><li class="chapter-item expanded "><a href="24-bit-color-truecolor.html"><strong aria-hidden="true">8.12.</strong> 24 bit color (truecolor)</a></li><li class="chapter-item expanded "><a href="using-delta-with-tmux.html"><strong aria-hidden="true">8.13.</strong> Using Delta with tmux</a></li><li class="chapter-item expanded "><a href="using-delta-with-gnu-screen.html"><strong aria-hidden="true">8.14.</strong> Using Delta with GNU Screen</a></li><li class="chapter-item expanded "><a href="using-delta-on-windows.html"><strong aria-hidden="true">8.15.</strong> Using Delta on Windows</a></li><li class="chapter-item expanded "><a href="mouse-scrolling.html"><strong aria-hidden="true">8.16.</strong> Mouse scrolling</a></li><li class="chapter-item expanded "><a href="using-delta-with-magit.html"><strong aria-hidden="true">8.17.</strong> Using Delta with Magit</a></li><li class="chapter-item expanded "><a href="supported-languages-and-themes.html"><strong aria-hidden="true">8.18.</strong> Supported languages and themes</a></li></ol></li><li class="chapter-item expanded "><a href="comparisons-with-other-tools.html"><strong aria-hidden="true">9.</strong> Comparisons with other tools</a></li><li class="chapter-item expanded "><a href="build-delta-from-source.html"><strong aria-hidden="true">10.</strong> Build delta from source</a></li><li class="chapter-item expanded "><a href="related-projects.html"><strong aria-hidden="true">11.</strong> Related projects</a></li><li class="chapter-item expanded "><a href="full---help-output.html"><strong aria-hidden="true">12.</strong> Full --help output</a></li><li class="chapter-item expanded "><a href="delta-configs-used-in-screenshots.html"><strong aria-hidden="true">13.</strong> Delta configs used in screenshots</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="side-by-side-view-1.html"><strong aria-hidden="true">13.1.</strong> Side-by-side view</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">delta</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="--color-moved-support"><a class="header" href="#--color-moved-support"><code>--color-moved</code> support</a></h1>
<p>Recent versions of Git (≥ v2.17, April 2018) are able to detect moved blocks of code and style them differently from the usual removed/added lines. If you have activated this feature in Git, then Delta will automatically detect such differently-styled lines, and display them unchanged, i.e. with the raw colors it receives from Git.</p>
<p>To activate the Git feature, use</p>
<pre><code class="language-gitconfig">[diff]
    colorMoved = default
</code></pre>
<p>and see the <a href="https://git-scm.com/docs/git-diff#Documentation/git-diff.txt---color-movedltmodegt">Git documentation</a> for the other possible values and associated color configuration.</p>
<p>The <code>map-styles</code> option allows us to transform the styles that git emits for color-moved sections into delta styles.
Here's an example of using <code>map-styles</code> to assign delta styles to the raw color-moved styles output by git.
This feature allows all of git's color-moved options to be rendered using delta styles, including with syntax highlighting.</p>
<pre><code class="language-gitconfig">[delta]
    map-styles = bold purple =&gt; syntax magenta, bold cyan =&gt; syntax blue
</code></pre>
<p>There is a pair of features provided in <a href="https://github.com/dandavison/delta/blob/master/themes.gitconfig">themes.config</a> called <code>zebra-dark</code> and <code>zebra-light</code> which utilise the moved colors by displaying them as a faint background color on the affected lines while keeping syntax highlighting as the foreground color. You can enable one of these features by stacking it upon the theme you are using, like as follows</p>
<pre><code class="language-gitconfig">[delta]
    features = my-dark-theme zebra-dark
</code></pre>
<table><tr>
  <td><img width=600px src="https://user-images.githubusercontent.com/1030961/149756321-d9e885fe-206c-4e08-8c40-e0ed5969b04a.png" alt="image" /></td>
  <td><img width=600px src="https://user-images.githubusercontent.com/1030961/149756332-ce8a4e2a-7487-4880-a151-761872657a28.png" alt="image" /></td>
</tr></table>
<p>It is also possible to reference other styles.</p>
<pre><code class="language-gitconfig">[delta]
    features = my-color-moved-theme

[delta &quot;my-color-moved-theme&quot;]
    git-moved-from-style = bold purple     # An ad-hoc named style (must end in &quot;-style&quot;)

    map-styles = &quot;my-color-moved-theme.git-moved-from-style =&gt; red #cccccc, \
                  bold cyan =&gt; syntax #cccccc&quot;

    # we could also have defined git-moved-to-style = bold cyan
</code></pre>
<p>To make use of that, you need to know that git is emitting &quot;bold cyan&quot; and &quot;bold purple&quot;.
But that's not always obvious.
To help with that, delta now has a <code>--parse-ansi</code> mode. E.g. <code>git show --color=always | delta --parse-ansi</code> outputs something like this:</p>
<table><tr><td><img width=300px src="https://user-images.githubusercontent.com/52205/143238872-58a40754-ae50-4a9e-ba72-07e330e520e6.png" alt="image" /></td></tr></table>
<p>As you see above, we can now define named styles in gitconfig and refer to them in places where a style string is expected.
We can also define custom named colors in git config, and styles can reference other styles; see the <a href="https://github.com/dandavison/delta/blob/master/themes.gitconfig#L76-L91">hoopoe theme</a> for an example:</p>
<pre><code class="language-gitconfig">[delta &quot;hoopoe&quot;]
    green = &quot;#d0ffd0&quot;  # ad-hoc named color
    plus-style = syntax hoopoe.green  # refer to named color
    plus-non-emph-style = plus-style  # styles can reference other styles
</code></pre>
<p>Additionally, we can now use the 140 color names that are standard in CSS. Use <code>delta --show-colors</code> to get a demo of the available colors, as background colors to see how they look with syntax highlighting:</p>
<table><tr><td><img width=300px src="https://user-images.githubusercontent.com/52205/143237384-246db199-ef65-4ad2-ad4e-03d07d1ea41d.png" alt="image" /></td></tr></table>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="diff-highlight-and-diff-so-fancy-emulation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="navigation-keybindings-for-large-diffs.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="diff-highlight-and-diff-so-fancy-emulation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="navigation-keybindings-for-large-diffs.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
